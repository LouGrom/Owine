{% extends 'base.html.twig' %}

{% block title %}Profil{% endblock %}

{% block body %}
<div class="col-9 m-auto"></div>

    <h2 class="mt-3 mb-3 text-center">Profil</h2>
        <h3>Vos informations personnelles</h3>

        <div class="col-9 ml-auto mr-auto mb-3">
            <p>Prénom : {{ app.user.firstname }}</p>    
            <p>Nom : {{ app.user.lastname }}</p>
            <p>Mot de passe : *secret*</p>
            <p>Adresse : {{ app.user.addresses[0].street }}</p>
            <p>Code postal : {{ app.user.addresses[0].zipCode }}</p>
            <p>Ville : {{ app.user.addresses[0].city }}</p>
            <p>Pays : {{ app.user.addresses[0].country }}</p>
            <a href="{{ path('user_edit',{'id': app.user.id}) }}" class="btn btn-dark">Modifier</a>
        </div>
            
    {% if 'ROLE_SELLER' in app.user.roles %}
        <h3 class="mt-5 mb-3">Vos préférences d'expédition</h3>

            <div class="col-9 m-auto mb-4">

                <h4>Destinations :</h4>
                    <table class="table text-center">
                        <thead class="thead">
                            <tr>
                                <th>Zone</th>
                                <th>Pays</th>
                                <th>ISO</th>
                            </tr>
                        </thead>
                        {% for destination in app.user.company.destinations %}
                            <tr>
                                <td>{{ destination.zone }}</td>
                                <td>{{ destination.country }}</td>
                                <td>{{ destination.iso }}</td>
                            </tr>
                        {% endfor %}
                    </table>
                    
                <h4>Colisage :</h4>
                <table class="table text-center">
                    <thead class="thead">
                        <tr>
                            <th>Nombre de bouteilles</th>
                            <th>Hauteur (en cm)</th>
                            <th>longueur (en cm)</th>
                            <th>Largeur (en cm)</th>{# :o #}
                            <th>Poids (en kg)</th>
                        </tr>
                    </thead>
                    {% for package in app.user.company.packages %}
                        <tr>
                            <td>{{ package.bottleQuantity }}</td>
                            <td>{{ package.height }}</td>
                            <td>{{ package.length }}</td>
                            <td>{{ package.width }}</td>
                            <td>{{ package.weight }}</td>
                        </tr>
                    {% endfor %}
                </table>
    {% endif %}
    <a href="{{ path('user_edit',{'id': app.user.id}) }}" class="btn btn-dark">Modifier</a>
            </div>
</div>      
{% endblock %}